use rand::Rng;

const ADJECTIVES: &[&str] = &[
    "able", "acid", "aged", "airy", "ally", "anew", "anti", "auto", "away", "baby", "back", "bald",
    "bare", "base", "bath", "bead", "beak", "beam", "bean", "bear", "beat", "bed", "beer", "bell",
    "belt", "bend", "bent", "best", "bias", "bike", "bill", "bind", "bird", "bite", "blow", "blue",
    "boat", "body", "bold", "bolt", "bomb", "bond", "bone", "book", "boom", "boot", "bore", "born",
    "boss", "both", "bowl", "bulk", "bull", "burn", "busy", "calm", "came", "camp", "card", "care",
    "case", "cash", "cast", "cell", "chat", "chip", "city", "club", "clue", "cold", "comb", "come",
    "cook", "cool", "cope", "copy", "cord", "core", "cost", "crew", "crop", "cube", "cult", "curl",
    "cute", "damp", "dark", "data", "date", "dawn", "days", "dead", "deal", "dean", "dear", "debt",
    "deck", "deep", "deer", "desk", "dial", "diet", "dirt", "disc", "disk", "door", "dose", "down",
    "draw", "drew", "drop", "drug", "dual", "duck", "dust", "duty", "each", "earn", "ease", "east",
    "easy", "edge", "edit", "else", "even", "ever", "evil", "exit", "face", "fact", "fade", "fail",
    "fair", "fake", "fall", "fame", "fare", "farm", "fast", "fate", "fear", "feat", "feed", "feel",
    "feet", "fell", "felt", "file", "fill", "film", "find", "fine", "fire", "firm", "fish", "five",
    "flag", "flat", "fled", "flew", "flex", "flip", "flow", "foam", "fold", "folk", "food", "foot",
    "ford", "form", "fort", "foul", "four", "free", "frog", "from", "fuel", "full", "fund", "gain",
    "game", "gang", "gaps", "gate", "gaze", "gear", "gene", "gift", "girl", "give", "glad", "goal",
    "goat", "goes", "gold", "gone", "good", "gray", "grew", "grey", "hair", "half", "hall", "hand",
    "hang", "hard", "hare", "harm", "hate", "have", "head", "hear", "heat", "heel", "held", "hell",
    "help", "herb", "here", "hero", "hide", "high", "hill", "hint", "hire", "hold", "hole", "holy",
    "home", "hope", "host", "hour", "huge", "hung", "hunt", "hurt", "icon", "idea", "idle", "idol",
    "into", "iron", "item", "jazz", "jeep", "join", "joke", "jolt", "jump", "jury", "just", "keep",
    "kept", "kick", "kill", "kind", "king", "kiss", "knee", "knew", "knit", "know", "lace", "lack",
    "lady", "laid", "lake", "lamp", "land", "lane", "last", "late", "lead", "leaf", "lean", "left",
    "lend", "lens", "less", "levy", "life", "lift", "like", "lime", "line", "link", "lion", "list",
    "live", "load", "loan", "lock", "loft", "logo", "long", "look", "loop", "lord", "lose", "loss",
    "lost", "love", "luck", "lump", "lung", "lust", "made", "mail", "main", "make", "male", "mall",
    "many", "mark", "mars", "mask", "mass", "mate", "math", "meal", "meat", "meet", "melt", "menu",
    "mere", "mesh", "mess", "mice", "mike", "mild", "mile", "milk", "mill", "mind", "mine", "miss",
    "mist", "mode", "mold", "mole", "monk", "moon", "more", "most", "move", "much", "mud", "mug",
    "must", "myth", "name", "navy", "near", "neat", "neck", "need", "news", "next", "nice", "nick",
    "nine", "none", "nose", "note", "noun", "null", "okay", "once", "only", "onto", "open", "oral",
    "over", "pace", "pack", "page", "paid", "pain", "pair", "pale", "palm", "park", "part", "pass",
    "past", "path", "peak", "pear", "peer", "pick", "pile", "pill", "pine", "pink", "pipe", "plan",
    "play", "plot", "plug", "plus", "poll", "pond", "pool", "poor", "port", "pose", "post", "pour",
    "pray", "pull", "pump", "pure", "push", "quit", "race", "rack", "raid", "rail", "rain", "rake",
    "rang", "rank", "rare", "rate", "read", "real", "rear", "rely", "rent", "rest", "rice", "rich",
    "ride", "ring", "rise", "risk", "road", "rock", "role", "roll", "roof", "room", "root", "rope",
    "rose", "rule", "rush", "rust", "safe", "said", "sail", "sale", "salt", "same", "sand", "save",
    "seat", "seed", "seek", "seem", "seen", "self", "sell", "send", "ship", "shoe", "shop", "shot",
    "show", "shut", "sick", "side", "sign", "silk", "sing", "sink", "site", "size", "skin", "skip",
    "slab", "slip", "slow", "snow", "soft", "soil", "sold", "sole", "some", "song", "soon", "sort",
    "soul", "spot", "star", "stay", "stem", "step", "stop", "such", "suit", "sure", "swim", "tail",
    "take", "tale", "talk", "tall", "tank", "tape", "task", "team", "tear", "tell", "tent", "term",
    "test", "text", "than", "that", "them", "then", "they", "thin", "this", "thus", "till", "time",
    "tiny", "told", "toll", "tone", "took", "tool", "tour", "town", "trap", "tray", "tree", "trip",
    "true", "tune", "turn", "twin", "type", "unit", "upon", "used", "user", "vary", "vast", "very",
    "vice", "view", "vote", "wage", "wait", "wake", "walk", "wall", "wand", "want", "ward", "warm",
    "warn", "wash", "watt", "wave", "weak", "wear", "week", "well", "went", "were", "west", "what",
    "when", "wide", "wife", "wild", "will", "wind", "wine", "wing", "wire", "wise", "wish", "with",
    "wood", "word", "work", "yard", "year", "yoga", "zero", "zone",
];

const NOUNS: &[&str] = &[
    "aardvark",
    "albatross",
    "badger",
    "barracuda",
    "bison",
    "cheetah",
    "cobra",
    "condor",
    "dingo",
    "dolphin",
    "eagle",
    "falcon",
    "flamingo",
    "gazelle",
    "giraffe",
    "gopher",
    "heron",
    "iguana",
    "jackal",
    "koala",
    "lemur",
    "leopard",
    "llama",
    "meerkat",
    "mole",
    "narwhal",
    "ocelot",
    "oryx",
    "panda",
    "pelican",
    "penguin",
    "platypus",
    "puma",
    "quail",
    "rabbit",
    "raven",
    "rhino",
    "serval",
    "shark",
    "sparrow",
    "squid",
    "tiger",
    "turtle",
    "urial",
    "viper",
    "vulture",
    "wallaby",
    "wolf",
    "wombat",
    "yak",
    "zebra",
    "anchovy",
    "bass",
    "carp",
    "cod",
    "crab",
    "eel",
    "guppy",
    "haddock",
    "halibut",
    "herring",
    "mackerel",
    "marlin",
    "minnow",
    "perch",
    "pike",
    "prawn",
    "salmon",
    "sardine",
    "seabass",
    "shrimp",
    "snapper",
    "sole",
    "sturgeon",
    "tilapia",
    "trout",
    "tuna",
    "walleye",
    "wrasse",
    "ant",
    "aphid",
    "bee",
    "beetle",
    "bumblebee",
    "butterfly",
    "caterpillar",
    "cicada",
    "cockroach",
    "cricket",
    "dragonfly",
    "firefly",
    "flea",
    "fly",
    "gnat",
    "grasshopper",
    "hornet",
    "ladybug",
    "louse",
    "mayfly",
    "mosquito",
    "moth",
    "termite",
    "wasp",
    "baboon",
    "capuchin",
    "chimpanzee",
    "gorilla",
    "gibbon",
    "lemur",
    "macaque",
    "mandrill",
    "marmoset",
    "orangutan",
    "squirrel",
    "tamarin",
    "bonobo",
    "colobus",
    "drill",
    "guenon",
    "langur",
    "proboscis",
    "saki",
    "uakari",
    "armadillo",
    "echidna",
    "hedgehog",
    "opossum",
    "pangolin",
    "porcupine",
    "sloth",
    "antelope",
    "buck",
    "caribou",
    "deer",
    "doe",
    "elk",
    "fawn",
    "gazelle",
    "hart",
    "hind",
    "impala",
    "kudu",
    "moose",
    "oryx",
    "pronghorn",
    "roe",
    "stag",
    "antilope",
    "gnu",
    "ibex",
    "musk",
    "nilgai",
    "saiga",
    "tahr",
    "vicuna",
    "alpaca",
    "bactrian",
    "camel",
    "dromedary",
    "llama",
    "vicuna",
    "capybara",
    "cavy",
    "chinchilla",
    "guinea",
    "marah",
    "pacarana",
    "viscacha",
    "agouti",
    "capybara",
    "paca",
    "acouchy",
    "coypu",
    "marmot",
    "prairie",
    "groundhog",
    "squirrel",
    "chipmunk",
    "gopher",
    "woodchuck",
    "beaver",
    "muskrat",
    "pocket",
    "gopher",
    "vole",
    "lemming",
    "hamster",
    "mouse",
    "rat",
    "gerbil",
    "jerboa",
    "kangaroo",
    "rat",
    "wallaroo",
    "wallaby",
    "bandicoot",
    "bilby",
    "numbat",
    "quokka",
    "quoll",
    "tasmanian",
    "devil",
    "wombat",
    "koala",
    "opossum",
    "phascogale",
    "planigale",
    "dunnart",
    "kultarr",
    "ningaui",
    "antechinus",
    "kowari",
    "dibbler",
    "planigale",
    "antechinus",
    "dunnart",
    "planigale",
    "quoll",
    "numbat",
    "wombat",
    "akela",
    "albany",
    "anat",
    "angel",
    "argon",
    "arizona",
    "arrow",
    "ash",
    "aspen",
    "aster",
    "athens",
    "august",
    "aurora",
    "axis",
    "azure",
    "banana",
    "basalt",
    "basil",
    "beach",
    "beaker",
    "bean",
    "berry",
    "birch",
    "black",
    "blaze",
    "bliss",
    "blood",
    "bloom",
    "blossom",
    "blue",
    "breeze",
    "brick",
    "brine",
    "brock",
    "bronze",
    "brown",
    "brush",
    "bubble",
    "buffalo",
    "bulb",
    "bush",
    "cactus",
    "camel",
    "canary",
    "candy",
    "carbon",
    "cardinal",
    "carnelian",
    "carrot",
    "cashew",
    "cedar",
    "celery",
    "chamber",
    "chameleon",
    "champion",
    "charcoal",
    "chart",
    "cheetah",
    "cherry",
    "chestnut",
    "chickadee",
    "child",
    "chrome",
    "cinnamon",
    "citrus",
    "civil",
    "clam",
    "clay",
    "clove",
    "club",
    "clue",
    "coal",
    "cocoa",
    "coconut",
    "code",
    "coffee",
    "coin",
    "collar",
    "copper",
    "coral",
    "corn",
    "cotton",
    "crane",
    "crater",
    "crayon",
    "cream",
    "cricket",
    "cristal",
    "crocodile",
    "crow",
    "crystal",
    "cubit",
    "cubic",
    "cumber",
    "dandelion",
    "dark",
    "date",
    "dawn",
    "deer",
    "delta",
    "desert",
    "diamond",
    "dirt",
    "diver",
    "dock",
    "dog",
    "dolphin",
    "door",
    "dove",
    "dragon",
    "dream",
    "dress",
    "drift",
    "drill",
    "driver",
    "drone",
    "drop",
    "drum",
    "dryad",
    "duck",
    "dust",
    "dwarf",
    "eagle",
    "earth",
    "east",
    "eclipse",
    "edison",
    "eel",
    "egg",
    "elephant",
    "elk",
    "elm",
    "ember",
    "emerald",
    "enemy",
    "energy",
    "engine",
    "english",
    "ent",
    "equator",
    "espresso",
    "ether",
    "europa",
    "european",
    "evening",
    "event",
    "everest",
    "factor",
    "falcon",
    "family",
    "fan",
    "fawn",
    "feather",
    "february",
    "feline",
    "ferret",
    "fiber",
    "field",
    "fire",
    "fish",
    "fjord",
    "flame",
    "flamingo",
    "flask",
    "flat",
    "flower",
    "flute",
    "flux",
    "flyer",
    "foam",
    "focal",
    "fog",
    "fold",
    "font",
    "food",
    "foot",
    "forest",
    "fork",
    "fossil",
    "fox",
    "frame",
    "francis",
    "frog",
    "front",
    "frost",
    "fruit",
    "fuel",
    "fund",
    "fungi",
    "fury",
    "future",
    "gadget",
    "galaxy",
    "gambit",
    "game",
    "garden",
    "garlic",
    "gate",
    "gazelle",
    "gear",
    "gecko",
    "gene",
    "genie",
    "geo",
    "ghost",
    "giant",
    "gibbon",
    "gift",
    "ginger",
    "giraffe",
    "glacier",
    "glass",
    "glider",
    "globe",
    "glove",
    "glow",
    "glue",
    "goal",
    "goat",
    "gold",
    "golf",
    "gondola",
    "goose",
    "gorilla",
    "grain",
    "granite",
    "grape",
    "graph",
    "grass",
    "gravity",
    "gray",
    "green",
    "grid",
    "griffin",
    "ground",
    "group",
    "guitar",
    "gull",
    "gust",
    "hail",
    "halibut",
    "halo",
    "hammer",
    "hamster",
    "hand",
    "harbor",
    "hare",
    "harmony",
    "harp",
    "hawk",
    "hazel",
    "head",
    "heart",
    "hedgehog",
    "helium",
    "helix",
    "helm",
    "heron",
    "hero",
    "hex",
    "hickory",
    "hill",
    "hippo",
    "hive",
    "hoist",
    "hold",
    "hole",
    "holly",
    "home",
    "honey",
    "horn",
    "horse",
    "host",
    "hound",
    "hour",
    "house",
    "hover",
    "hub",
    "human",
    "hummingbird",
    "humpback",
    "hunt",
    "hurricane",
    "hyacinth",
    "hybrid",
    "hydrangea",
    "hydro",
    "ibis",
    "ice",
    "icon",
    "idea",
    "iguana",
    "imperial",
    "impulse",
    "inch",
    "indigo",
    "infrared",
    "ink",
    "input",
    "insect",
    "interface",
    "internet",
    "iris",
    "iron",
    "island",
    "jackal",
    "jaguar",
    "jade",
    "january",
    "jelly",
    "jellyfish",
    "jerboa",
    "jet",
    "june",
    "jupiter",
    "kangaroo",
    "kelp",
    "kernel",
    "key",
    "kiwi",
    "kite",
    "knight",
    "koala",
    "lagoon",
    "lake",
    "lamb",
    "lamp",
    "land",
    "lantern",
    "lark",
    "laser",
    "lasso",
    "late",
    "laurel",
    "lava",
    "lead",
    "leaf",
    "leap",
    "leather",
    "lemon",
    "leopard",
    "lesson",
    "letter",
    "level",
    "libra",
    "light",
    "lightning",
    "lilac",
    "lily",
    "limb",
    "lime",
    "line",
    "link",
    "lion",
    "liquid",
    "lizard",
    "llama",
    "lock",
    "locust",
    "logic",
    "lotus",
    "louis",
    "louse",
    "love",
    "lucky",
    "lunar",
    "lynx",
    "mackerel",
    "madagascar",
    "magnet",
    "magpie",
    "mammal",
    "mango",
    "maple",
    "marble",
    "march",
    "marigold",
    "marlin",
    "mars",
    "martin",
    "mask",
    "mass",
    "mate",
    "mauve",
    "may",
    "mayfly",
    "meadow",
    "meat",
    "medal",
    "medium",
    "melody",
    "melon",
    "mentor",
    "mercury",
    "mermaid",
    "message",
    "metal",
    "meteor",
    "methane",
    "mica",
    "microbe",
    "midge",
    "mildew",
    "milk",
    "mill",
    "mimic",
    "mineral",
    "minnow",
    "mint",
    "mirage",
    "mirror",
    "mist",
    "mite",
    "model",
    "module",
    "mole",
    "molly",
    "moment",
    "money",
    "monitor",
    "monk",
    "monkey",
    "monster",
    "month",
    "moon",
    "moose",
    "morning",
    "mosquito",
    "moth",
    "motor",
    "mountain",
    "mouse",
    "mouth",
    "mud",
    "muffin",
    "mug",
    "mulberry",
    "mule",
    "museum",
    "mushroom",
    "music",
    "mustard",
    "myna",
    "myrtle",
    "mystery",
    "nail",
    "napkin",
    "nebula",
    "neck",
    "needle",
    "neptune",
    "net",
    "network",
    "newt",
    "nickel",
    "night",
    "nitrogen",
    "noise",
    "north",
    "nova",
    "november",
    "nucleus",
    "nut",
    "nutmeg",
    "nylon",
    "oak",
    "oasis",
    "oat",
    "observer",
    "octane",
    "octopus",
    "ocelot",
    "oil",
    "olive",
    "omega",
    "onion",
    "opal",
    "opus",
    "orange",
    "orchid",
    "orbit",
    "oriole",
    "otter",
    "ounce",
    "owl",
    "oyster",
    "pacific",
    "paint",
    "palace",
    "palm",
    "panther",
    "paper",
    "parade",
    "parrot",
    "part",
    "particle",
    "passenger",
    "pasta",
    "paste",
    "pastry",
    "path",
    "paw",
    "peacock",
    "peach",
    "pear",
    "pearl",
    "pecan",
    "pebble",
    "pedal",
    "pelican",
    "penguin",
    "pepper",
    "perch",
    "period",
    "peridot",
    "petal",
    "pewter",
    "phase",
    "pheasant",
    "phoenix",
    "phosphor",
    "photo",
    "photon",
    "piano",
    "piccolo",
    "piece",
    "pig",
    "pigeon",
    "pike",
    "pillar",
    "pilot",
    "pine",
    "pink",
    "pinto",
    "pipe",
    "pirate",
    "planet",
    "plankton",
    "plant",
    "plasma",
    "plate",
    "platinum",
    "platypus",
    "play",
    "player",
    "pleiad",
    "plot",
    "plum",
    "pluto",
    "pod",
    "poet",
    "point",
    "poison",
    "polar",
    "pole",
    "polyp",
    "pond",
    "poppy",
    "port",
    "post",
    "potato",
    "prairie",
    "prawn",
    "prism",
    "pronghorn",
    "propeller",
    "prospector",
    "proto",
    "prune",
    "prussia",
    "pudding",
    "puffin",
    "pulse",
    "puma",
    "pumpkin",
    "punk",
    "pyramid",
    "python",
    "quail",
    "quake",
    "quartz",
    "queen",
    "quill",
    "quilt",
    "quiver",
    "rabbit",
    "raccoon",
    "radar",
    "radiation",
    "radio",
    "radish",
    "raider",
    "rain",
    "rainbow",
    "ranger",
    "rat",
    "rattlesnake",
    "raven",
    "ray",
    "razor",
    "reactor",
    "rebel",
    "red",
    "reed",
    "reflector",
    "regulus",
    "reindeer",
    "relay",
    "remedy",
    "republic",
    "resonance",
    "rhino",
    "rhododendron",
    "rhythm",
    "rice",
    "richard",
    "riddle",
    "ridge",
    "rifle",
    "ring",
    "river",
    "road",
    "robin",
    "robot",
    "rock",
    "rocket",
    "rod",
    "roger",
    "roller",
    "romulus",
    "roof",
    "room",
    "root",
    "rope",
    "rose",
    "rotor",
    "ruby",
    "runner",
    "rust",
    "ruth",
    "sable",
    "sage",
    "saint",
    "salad",
    "salamander",
    "salmon",
    "salt",
    "samara",
    "sampler",
    "sand",
    "sandwich",
    "sapphire",
    "sardine",
    "satellite",
    "satin",
    "saturn",
    "sauce",
    "sauna",
    "savanna",
    "saw",
    "scale",
    "scarab",
    "scatter",
    "scene",
    "scepter",
    "school",
    "scissors",
    "scorpio",
    "scout",
    "scrap",
    "scrub",
    "sea",
    "seagull",
    "seahorse",
    "seal",
    "search",
    "seat",
    "second",
    "secret",
    "section",
    "seed",
    "seeker",
    "segment",
    "seismic",
    "selenium",
    "self",
    "seller",
    "semiconductor",
    "sense",
    "sensor",
    "serpent",
    "servant",
    "shade",
    "shadow",
    "shaker",
    "shark",
    "sheep",
    "shield",
    "shell",
    "shelter",
    "sherry",
    "ship",
    "shoe",
    "shop",
    "shore",
    "shortwave",
    "shoulder",
    "shrew",
    "shrimp",
    "shrub",
    "shuffle",
    "sibling",
    "signal",
    "silicon",
    "silk",
    "silo",
    "silver",
    "siren",
    "sirius",
    "sister",
    "sketch",
    "skier",
    "skill",
    "skin",
    "skunk",
    "sky",
    "slate",
    "sloth",
    "slug",
    "snail",
    "snake",
    "snap",
    "snipe",
    "snow",
    "snowflake",
    "snout",
    "soap",
    "soil",
    "solar",
    "soldier",
    "sonar",
    "song",
    "sonic",
    "sortie",
    "sound",
    "south",
    "space",
    "spade",
    "spaniel",
    "spark",
    "sparrow",
    "speaker",
    "spectrum",
    "spider",
    "spike",
    "spinel",
    "spiral",
    "spoon",
    "spot",
    "spring",
    "sprinter",
    "sprite",
    "squid",
    "squire",
    "squirrel",
    "stage",
    "star",
    "starter",
    "starfish",
    "state",
    "static",
    "station",
    "statue",
    "steel",
    "stella",
    "step",
    "sterling",
    "stew",
    "stick",
    "stinger",
    "stirrup",
    "stock",
    "stone",
    "storm",
    "story",
    "stove",
    "stranger",
    "straw",
    "stream",
    "street",
    "stress",
    "string",
    "stripe",
    "student",
    "studio",
    "sturgeon",
    "subway",
    "sugar",
    "suit",
    "sun",
    "sunny",
    "sunshine",
    "support",
    "surfer",
    "surgeon",
    "swallow",
    "swan",
    "switch",
    "sword",
    "symbol",
    "synapse",
    "syrup",
    "system",
    "table",
    "tablet",
    "tachyon",
    "tactic",
    "tail",
    "tailor",
    "talc",
    "tale",
    "talon",
    "tank",
    "tapir",
    "target",
    "tart",
    "task",
    "taste",
    "tawny",
    "taxi",
    "tea",
    "teal",
    "team",
    "tear",
    "teeth",
    "telephone",
    "telescope",
    "tempest",
    "template",
    "temple",
    "tempo",
    "ten",
    "tenant",
    "tender",
    "tentacle",
    "term",
    "terran",
    "terrapin",
    "terrain",
    "terrier",
    "test",
    "text",
    "texture",
    "thalamus",
    "thaw",
    "theatre",
    "theory",
    "thermometer",
    "thistle",
    "thomas",
    "thread",
    "threat",
    "three",
    "thrush",
    "thunder",
    "tiger",
    "tightrope",
    "tile",
    "tilt",
    "timber",
    "time",
    "timid",
    "tin",
    "titan",
    "toad",
    "toast",
    "toe",
    "tomato",
    "tongue",
    "tool",
    "tooth",
    "top",
    "topaz",
    "torch",
    "tornado",
    "torpedo",
    "torrent",
    "tourist",
    "tower",
    "town",
    "toy",
    "trace",
    "tracker",
    "tractor",
    "trade",
    "trail",
    "train",
    "tramp",
    "trapper",
    "trash",
    "traveler",
    "tray",
    "tree",
    "trellis",
    "trend",
    "triangle",
    "trident",
    "tripod",
    "triton",
    "trolley",
    "trombone",
    "trout",
    "truck",
    "trumpet",
    "trunk",
    "trust",
    "truth",
    "tuber",
    "tubing",
    "tulip",
    "tuna",
    "tungsten",
    "tunnel",
    "turbo",
    "turkey",
    "turn",
    "turtle",
    "tusker",
    "tusk",
    "twig",
    "twilight",
    "twin",
    "twister",
    "two",
    "tycoon",
    "typhoon",
    "ultra",
    "umbrella",
    "unicorn",
    "union",
    "unit",
    "unity",
    "universe",
    "unknown",
    "uranus",
    "urchin",
    "user",
    "vagabond",
    "valence",
    "valley",
    "value",
    "vanadium",
    "vapor",
    "vein",
    "velvet",
    "vendetta",
    "venus",
    "verdant",
    "veridian",
    "verse",
    "vessel",
    "vest",
    "vibrant",
    "vice",
    "victor",
    "video",
    "violet",
    "violin",
    "viper",
    "virgo",
    "virtual",
    "virus",
    "vision",
    "visitor",
    "visor",
    "visual",
    "vital",
    "vitamin",
    "volcano",
    "volley",
    "volume",
    "voyager",
    "wader",
    "wagon",
    "wall",
    "walnut",
    "walrus",
    "wand",
    "warden",
    "warrior",
    "wasp",
    "watch",
    "water",
    "wave",
    "wax",
    "way",
    "weasel",
    "weather",
    "web",
    "wedding",
    "wedge",
    "weed",
    "week",
    "weevil",
    "well",
    "whale",
    "wheat",
    "wheel",
    "where",
    "whip",
    "whisk",
    "whistle",
    "white",
    "wildebeest",
    "willow",
    "wind",
    "window",
    "wine",
    "wing",
    "winner",
    "winter",
    "wire",
    "wisdom",
    "wish",
    "wolf",
    "woman",
    "wonder",
    "wood",
    "woodpecker",
    "wool",
    "word",
    "worker",
    "world",
    "worm",
    "worry",
    "wound",
    "wrap",
    "wren",
    "wrench",
    "wrestler",
    "wrist",
    "writer",
    "xenon",
    "yacht",
    "yak",
    "yam",
    "year",
    "yellow",
    "yew",
    "yield",
    "yoga",
    "yolk",
    "younger",
    "zebra",
    "zenith",
    "zero",
    "zephyr",
    "zinc",
    "zircon",
    "zodiac",
    "zombie",
    "zone",
    "zoo",
    "zoom",
];

const MAX_ATTEMPTS: u32 = 100;

pub struct IdGenerator<F>
where
    F: Fn(&str) -> bool,
{
    exists_fn: F,
}

impl<F> IdGenerator<F>
where
    F: Fn(&str) -> bool,
{
    pub fn new(exists_fn: F) -> Self {
        Self { exists_fn }
    }

    pub fn generate(&self) -> String {
        let mut rng = rand::thread_rng();

        for _ in 0..MAX_ATTEMPTS {
            let adjective = ADJECTIVES[rng.gen_range(0..ADJECTIVES.len())];
            let noun = NOUNS[rng.gen_range(0..NOUNS.len())];
            let suffix: u16 = rng.gen_range(0..u16::MAX);
            let id = format!("{adjective}-{noun}-{suffix:04x}");

            if !(self.exists_fn)(&id) {
                return id;
            }
        }

        panic!("Failed to generate unique ID after {MAX_ATTEMPTS} attempts")
    }
}

#[cfg(test)]
mod tests {
    use super::{ADJECTIVES, IdGenerator, NOUNS};

    #[test]
    fn wordlists_have_reasonable_size() {
        assert!(ADJECTIVES.len() >= 256, "adjectives list too small");
        assert!(NOUNS.len() >= 256, "nouns list too small");
    }

    #[test]
    fn id_follows_word_word_hex_format() {
        let generator = IdGenerator::new(|_| false);
        let id = generator.generate();

        let parts: Vec<&str> = id.split('-').collect();
        assert_eq!(
            parts.len(),
            3,
            "ID should have 3 parts separated by hyphens"
        );

        let hex_suffix = u16::from_str_radix(parts[2], 16);
        assert!(hex_suffix.is_ok(), "suffix should be valid hex");
    }

    #[test]
    fn generate_avoids_collisions() {
        let mut used_ids = std::collections::HashSet::new();

        for _ in 0..100 {
            let existing_ids = used_ids.clone();
            let generator = IdGenerator::new(move |id| existing_ids.contains(id));

            let id = generator.generate();
            assert!(!used_ids.contains(&id), "generated ID should be unique");
            used_ids.insert(id);
        }
    }

    #[test]
    fn generate_retries_on_collision() {
        let collision_count = std::sync::atomic::AtomicU32::new(0);

        let generator = IdGenerator::new(|id| {
            if id == "test-word-1234" {
                collision_count.fetch_add(1, std::sync::atomic::Ordering::Relaxed);
                true
            } else {
                false
            }
        });

        let id = generator.generate();
        assert_ne!(id, "test-word-1234");
    }

    #[test]
    #[should_panic(expected = "Failed to generate unique ID after 100 attempts")]
    fn generate_panics_after_max_attempts() {
        let generator = IdGenerator::new(|_| true);
        let _ = generator.generate();
    }
}
